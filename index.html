<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>HUD com Veloc√≠metro</title>
  <style>
    html, body {
      overflow: hidden;
      background-color: transparent;
      margin: 0;
      padding: 0;
      font-family: Arial, sans-serif;
      color: white;
    }

    #logo-center {
      position: absolute;
      top: -4%;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10000;
      animation: fadeIn 1s ease forwards;
    }

    #logo-center img {
      width: 180px;
      opacity: 0.9;
    }

    @keyframes fadeIn {
      0% { opacity: 0; }
      100% { opacity: 1; }
    }

    #hud-top {
      position: absolute;
      top: 20px;
      right: 20px;
      display: flex;
      gap: 10px;
      z-index: 9999;
      align-items: center;
    }

    .hud-box {
      background: rgba(128, 0, 128, 0.4);
      padding: 8px 12px;
      border-radius: 8px;
      border: 1px solid rgba(128, 0, 128, 0.8);
      font-size: 14px;
    }

    #hud-side {
      position: absolute;
      top: 27%;
      right: 20px;
      transform: translateY(-50%);
      display: flex;
      flex-direction: column;
      gap: 8px;
      z-index: 9999;
    }

    .hud-icon {
      width: 50px;
      height: 50px;
      border-radius: 8px;
      display: flex;
      justify-content: center;
      align-items: center;
      border: none;
    }

    .hud-icon img {
      width: 94px;
      height: 54px;
      object-fit: contain;
      pointer-events: none;
    }

    .amarelo { background-color: #FFDF00; }
    .azul    { background-color: #0080FF; }
    .laranja { background-color: #964B00; }
    .preto   { background-color: #000000; }

    /* Veloc√≠metro */
    #velocimetro {
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      font-size: 28px;
      color: #fff;
      background: rgba(0, 0, 0, 0.6);
      padding: 10px 20px;
      border-radius: 12px;
      font-weight: bold;
      display: none;
    }
  </style>
</head>
<body>

  <div id="logo-center">
    <img src="logo.png" alt="Logo do Servidor">
  </div>

  <div id="hud-top">
    <div class="hud-box">üìç <span id="location">Los Santos</span></div>
    <div class="hud-box">üïí <span id="time">--:--</span></div>
    <div class="hud-box">üéôÔ∏è <span id="voice">Normal</span></div>
  </div>

  <div id="hud-side">
    <div class="hud-icon amarelo"><img src="hamburger.png" alt="Comida"></div>
    <div class="hud-icon azul"><img src="agua.png" alt="√Ågua"></div>
    <div class="hud-icon laranja"><img src="xixi.png" alt="Energia"></div>
    <div class="hud-icon preto"><img src="sono.png" alt="Sono"></div>
  </div>

  <div id="velocimetro">0 km/h</div>

  <script>
    if (typeof cef !== "undefined" && cef.emit) {
      cef.emit("game:hud:setComponentVisible", "interface", false);
    }

    function updateTime() {
      const now = new Date();
      const hours = String(now.getHours()).padStart(2, "0");
      const minutes = String(now.getMinutes()).padStart(2, "0");
      document.getElementById("time").innerText = `${hours}:${minutes}`;
    }
    setInterval(updateTime, 1000);
    updateTime();

    function updateHud(location) {
      if (location) document.getElementById('location').innerText = location;
    }

    // Atualiza√ß√£o da HUD padr√£o
    if (typeof cef !== "undefined" && cef.on) {
      cef.on("hud:update", (data) => {
        try {
          const parsed = JSON.parse(data);
          updateHud(parsed.location);
        } catch (e) {
          console.error("Erro ao parsear dados do HUD:", e);
        }
      });

      // Veloc√≠metro
      cef.on("hud:velocimetro", (data) => {
        const parsed = JSON.parse(data);
        const velElem = document.getElementById("velocimetro");
        if (parsed.mostrar === true) {
          velElem.style.display = "block";
          velElem.innerText = `${Math.round(parsed.velocidade)} km/h`;
        } else {
          velElem.style.display = "none";
        }
      });
    }
  </script>
</body>
</html>
